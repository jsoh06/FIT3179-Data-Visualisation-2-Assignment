{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": "container",
    "height": 300,
    "layer": [
        {
            "data": {
            "values": [
            {"origin": "Gombak", "destination": "Bukit Bintang", "time": 34, "fare": 3.8, "line": "Multi-line"},
            {"origin": "Taman Melati", "destination": "KLCC", "time": 19, "fare": 2.8, "line": "LRT Kelana Jaya"},
            {"origin": "Wangsa Maju", "destination": "Bukit Bintang", "time": 27, "fare": 3.6, "line": "Multi-line"},        
            {"origin": "Sri Rampai", "destination": "Bukit Bintang", "time": 25, "fare": 3.4, "line": "Multi-line"},
            {"origin": "Setiawangsa", "destination": "KLCC", "time": 7, "fare": 1.8, "line": "LRT Kelana Jaya"},
            {"origin": "Jelatek", "destination": "Bukit Bintang", "time": 17, "fare": 2.9, "line": "Multi-line"},
            {"origin": "Dato' Keramat", "destination": "Bukit Bintang", "time": 16, "fare": 2.8, "line": "Multi-line"},      
            {"origin": "Damai", "destination": "KLCC", "time": 3, "fare": 1.3, "line": "LRT Kelana Jaya"},
            {"origin": "Ampang Park", "destination": "Bukit Bintang", "time": 13, "fare": 2.3, "line": "Multi-line"},        
            {"origin": "KLCC", "destination": "Bukit Bintang", "time": 12, "fare": 2.2, "line": "Multi-line"},
            {"origin": "Kampung Baru", "destination": "KLCC", "time": 2, "fare": 1.1, "line": "LRT Kelana Jaya"},
            {"origin": "Dang Wangi", "destination": "Bukit Bintang", "time": 8, "fare": 1.7, "line": "Multi-line"},
            {"origin": "Masjid Jamek (KJL)", "destination": "Bukit Bintang", "time": 6, "fare": 1.4, "line": "Multi-line"},  
            {"origin": "Pasar Seni (KJL)", "destination": "KLCC", "time": 7, "fare": 1.9, "line": "LRT Kelana Jaya"},        
            {"origin": "KL Sentral (KJL)", "destination": "Bukit Bintang", "time": 8, "fare": 1.7, "line": "Multi-line"},    
            {"origin": "Bangsar", "destination": "Bukit Bintang", "time": 10, "fare": 2.0, "line": "Multi-line"},
            {"origin": "Abdullah Hukum", "destination": "KLCC", "time": 15, "fare": 2.7, "line": "LRT Kelana Jaya"},
            {"origin": "Kerinchi", "destination": "Bukit Bintang", "time": 14, "fare": 2.3, "line": "Multi-line"},
            {"origin": "Universiti", "destination": "Bukit Bintang", "time": 16, "fare": 2.5, "line": "Multi-line"},
            {"origin": "Taman Jaya", "destination": "KLCC", "time": 22, "fare": 3.2, "line": "LRT Kelana Jaya"},
            {"origin": "Asia Jaya", "destination": "Bukit Bintang", "time": 22, "fare": 3.3, "line": "Multi-line"},
            {"origin": "Taman Paramount", "destination": "Bukit Bintang", "time": 25, "fare": 3.3, "line": "Multi-line"},    
            {"origin": "Taman Bahagia", "destination": "KLCC", "time": 30, "fare": 3.4, "line": "LRT Kelana Jaya"},
            {"origin": "Kelana Jaya", "destination": "Bukit Bintang", "time": 30, "fare": 3.7, "line": "Multi-line"},        
            {"origin": "Lembah Subang", "destination": "Bukit Bintang", "time": 33, "fare": 3.5, "line": "Multi-line"},      
            {"origin": "Ara Damansara", "destination": "KLCC", "time": 37, "fare": 3.3, "line": "LRT Kelana Jaya"},
            {"origin": "Glenmarie", "destination": "Bukit Bintang", "time": 38, "fare": 3.9, "line": "Multi-line"},
            {"origin": "Subang Jaya", "destination": "Bukit Bintang", "time": 39, "fare": 4.1, "line": "Multi-line"},        
            {"origin": "SS 15", "destination": "KLCC", "time": 45, "fare": 3.1, "line": "LRT Kelana Jaya"},
            {"origin": "SS 18", "destination": "Bukit Bintang", "time": 45, "fare": 3.9, "line": "Multi-line"},
            {"origin": "USJ 7 (KJL)", "destination": "Bukit Bintang", "time": 48, "fare": 4.1, "line": "Multi-line"},        
            {"origin": "Taipan", "destination": "KLCC", "time": 51, "fare": 3.5, "line": "LRT Kelana Jaya"},
            {"origin": "Wawasan", "destination": "Bukit Bintang", "time": 52, "fare": 3.7, "line": "Multi-line"},
            {"origin": "USJ 21", "destination": "Bukit Bintang", "time": 54, "fare": 3.8, "line": "Multi-line"},
            {"origin": "Alam Megah", "destination": "KLCC", "time": 59, "fare": 3.9, "line": "LRT Kelana Jaya"},
            {"origin": "Subang Alam", "destination": "Bukit Bintang", "time": 60, "fare": 4.1, "line": "Multi-line"},        
            {"origin": "Putra Heights (KJL)", "destination": "Bukit Bintang", "time": 64, "fare": 4.1, "line": "Multi-line"},
            {"origin": "Sungai Buloh", "destination": "Kajang", "time": 81, "fare": 6.4, "line": "MRT Kajang"},
            {"origin": "Kampung Selamat", "destination": "Kajang", "time": 74, "fare": 6.3, "line": "MRT Kajang"},
            {"origin": "Kwasa Damansara", "destination": "Kajang", "time": 73, "fare": 6.0, "line": "MRT Kajang"},
            {"origin": "Kwasa Sentral", "destination": "Kajang", "time": 71, "fare": 5.8, "line": "MRT Kajang"},
            {"origin": "Kota Damansara", "destination": "Kajang", "time": 67, "fare": 5.5, "line": "MRT Kajang"},
            {"origin": "Surian", "destination": "Kajang", "time": 65, "fare": 5.4, "line": "MRT Kajang"},
            {"origin": "Mutiara Damansara", "destination": "Kajang", "time": 63, "fare": 5.1, "line": "MRT Kajang"},
            {"origin": "Bandar Utama", "destination": "Kajang", "time": 61, "fare": 5.0, "line": "MRT Kajang"},
            {"origin": "TTDI", "destination": "Kajang", "time": 58, "fare": 4.8, "line": "MRT Kajang"},
            {"origin": "Phileo Damansara", "destination": "Kajang", "time": 55, "fare": 4.6, "line": "MRT Kajang"},
            {"origin": "Pusat Bandar Damansara", "destination": "Kajang", "time": 53, "fare": 4.3, "line": "MRT Kajang"},    
            {"origin": "Semantan", "destination": "Kajang", "time": 50, "fare": 4.2, "line": "MRT Kajang"},
            {"origin": "Muzium Negara", "destination": "Kajang", "time": 48, "fare": 3.8, "line": "MRT Kajang"},
            {"origin": "Pasar Seni (SBK)", "destination": "Kajang", "time": 46, "fare": 3.2, "line": "MRT Kajang"},
            {"origin": "Merdeka", "destination": "Kajang", "time": 43, "fare": 3.2, "line": "MRT Kajang"},
            {"origin": "Tun Razak Exchange (TRX)", "destination": "Kajang", "time": 38, "fare": 3.6, "line": "MRT Kajang"},  
            {"origin": "Cochrane", "destination": "Kajang", "time": 35, "fare": 3.4, "line": "MRT Kajang"},
            {"origin": "Maluri (SBK)", "destination": "Kajang", "time": 33, "fare": 3.3, "line": "MRT Kajang"},
            {"origin": "Taman Pertama", "destination": "KLCC", "time": 14, "fare": 3.5, "line": "Multi-line"},
            {"origin": "Taman Midah", "destination": "KLCC", "time": 43, "fare": 3.7, "line": "Multi-line"},
            {"origin": "Taman Mutiara", "destination": "Kajang", "time": 25, "fare": 3.2, "line": "MRT Kajang"},
            {"origin": "Taman Connaught", "destination": "KLCC", "time": 35, "fare": 4.3, "line": "Multi-line"},
            {"origin": "Taman Suntex", "destination": "KLCC", "time": 33, "fare": 4.8, "line": "Multi-line"},
            {"origin": "Sri Raya", "destination": "Kajang", "time": 16, "fare": 2.7, "line": "MRT Kajang"},
            {"origin": "Bandar Tun Hussein Onn", "destination": "KLCC", "time": 27, "fare": 5.1, "line": "Multi-line"},      
            {"origin": "Batu 11 Cheras", "destination": "KLCC", "time": 25, "fare": 5.2, "line": "Multi-line"},
            {"origin": "Bukit Dukung", "destination": "Kajang", "time": 10, "fare": 2.1, "line": "MRT Kajang"},
            {"origin": "Sungai Jernih", "destination": "KLCC", "time": 19, "fare": 5.6, "line": "Multi-line"},
            {"origin": "Stadium Kajang", "destination": "KLCC", "time": 15, "fare": 5.7, "line": "Multi-line"},
            {"origin": "Kajang", "destination": "Bukit Bintang", "time": 43, "fare": 3.8, "line": "MRT Kajang"}
        ]
    },
    "params": [
        {
            "name": "line_selection",
            "select": {
                "type": "point",
                "fields": ["line"]
            },
            "bind": "legend"
        }
    ],
    "mark": {
        "type": "circle",
        "size": 120,
        "opacity": 0.8,
        "stroke": "white",
        "strokeWidth": 1
    },
    "encoding": {
        "x": {
            "field": "time",
            "type": "quantitative",
            "title": "Travel Time (minutes)",
            "scale": {"zero": false}
        },
        "y": {
            "field": "fare",
            "type": "quantitative",
            "title": "Fare (MYR)",
            "scale": {"zero": false}
        },
        "color": {
            "field": "line",
            "type": "nominal",
            "title": "Train Line",
            "scale": {
                "domain": ["LRT Kelana Jaya", "MRT Kajang", "Multi-line"],
                "range": ["purple", "#7B68EE", "lightseagreen"]
            },
            "legend": {
                "orient": "none",
                "legendX": 480,
                "legendY": 300,
                "direction": "vertical",
                "titleAnchor": "start",
                "offset": 0,
                "padding": 10
            }
        },
        
        "opacity": {
            "condition": {
                "param": "line_selection",
                "value": 0.8
            },
            "value": 0.1
        },
        "size": {
            "condition": {
                "param": "line_selection",
                "value": 150
            },
            "value": 80
        },
        "tooltip": [
            {"field": "origin", "type": "nominal", "title": "Origin Station"},
            {"field": "destination", "type": "nominal", "title": "Destination Station"},
            {"field": "line", "type": "nominal", "title": "Train Line"},
            {"field": "time", "type": "quantitative", "title": "Travel Time (minutes)"},
            {"field": "fare", "type": "quantitative", "title": "Fare (MYR)", "format": ".1f"}
        ]
    }
},
{
    "data": {
        "values": [
            {"x": 5, "y": 1.0, "text": "Short & Cheap"},
            {"x": 75, "y": 6.0, "text": "Long & Expensive"},
            {"x": 2, "y": 1.1, "text": "Most Efficient"}
        ]
    },
    "mark": {
        "type": "text",
        "align": "center",
        "baseline": "middle",
        "fontSize": 11,
        "fontStyle": "italic",
        "fontWeight": "bold",
        "color": "black",
        "opacity": 0.7
    },
    "encoding": {
        "x": {"field": "x", "type": "quantitative"},
        "y": {"field": "y", "type": "quantitative"},
        "text": {"field": "text", "type": "nominal"}
    }
}
    ]
}